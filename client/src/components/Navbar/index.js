import React from "react";
import { Nav, NavMenu, NavContainer, NavItem, NavLogo } from "./NavbarStyle";
import { connect } from "react-redux";
import { ButtonLink } from "../../globalStyles";
import { css } from "styled-components/macro";
import { logout } from "../../store/actions/user";
import history from "../../history";
import mediaQ from "../../mediaQueries";
import { motion } from "framer-motion";
const Navbar = ({ auth, logout }) => {
  return (
    <Nav>
      <NavContainer>
        <NavLogo
          initial={{ y: -180 }}
          animate={{ y: 0 }}
          transition={{ duration: 0.5 }}
          to="/"
        >
          <motion.svg
            width="307"
            height="51"
            viewBox="0 0 307 51"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <motion.path
              d="M27.1 48.1875H24.4L23.7 45.4875L21.3 38.5875L13.7 38.4875L6.85 38.5875L4.25 45.3875L3.5 48.1875H0.8L13 16.2375H15.95L27.1 48.1875ZM20.5 36.2875L14.55 19.2375H14.25L7.75 36.2875L14 36.3375L20.5 36.2875ZM57.0191 39.0875V48.1875H54.3691L36.0691 20.5875H35.8191L35.7691 37.9375L35.8191 48.1875H33.4191L33.5191 38.6875L33.4691 16.2375H36.1691L54.4191 43.8375H54.6691L54.7191 16.3875L57.1691 16.1875L57.0191 39.0875ZM69.757 38.3375L69.857 48.1875H67.257L67.407 38.4875L67.257 16.2375H69.907L69.757 38.3375ZM110.801 48.1875H108.401L107.551 38.4375L105.601 20.7375H105.301L95.5512 44.3375H93.2012L83.8012 20.7375H83.5012L81.5512 38.2875L80.6012 48.1875H78.3012L81.7512 16.2375H84.7012L86.5012 21.1375L94.3512 40.8875H94.6012L102.901 20.7375L104.601 16.2375H107.551L110.801 48.1875ZM136.359 46.1375L136.109 48.1875H119.259L119.409 38.4875L119.259 16.2375H136.059L136.259 16.5375L135.959 18.5875L128.509 18.4875L121.909 18.5375L121.809 30.5875L128.059 30.6375L133.409 30.5875L133.609 30.8375L133.359 32.8875L121.809 32.8375L121.759 38.3375L121.859 45.9375L128.309 45.9875L136.159 45.8375L136.359 46.1375Z"
              fill="black"
              initial={{
                opacity: 0,
                x: -100,
              }}
              animate={{
                opacity: 1,
                x: 0,
              }}
              transition={{
                delay: 0.5,
              }}
            />
            <motion.path
              d="M188.623 42.3096C188.623 43.0908 188.485 43.929 188.208 44.8242C187.948 45.7194 187.508 46.5495 186.89 47.3145C186.287 48.0794 185.498 48.7223 184.521 49.2432C183.545 49.7477 182.349 50 180.933 50H156.836C156.38 50 155.957 49.9186 155.566 49.7559C155.176 49.5931 154.834 49.3734 154.541 49.0967C154.264 48.8037 154.045 48.4619 153.882 48.0713C153.719 47.6807 153.638 47.2575 153.638 46.8018V18.1885C153.638 17.749 153.719 17.334 153.882 16.9434C154.045 16.5527 154.264 16.2109 154.541 15.918C154.834 15.625 155.176 15.3971 155.566 15.2344C155.957 15.0716 156.38 14.9902 156.836 14.9902H178.076C178.857 14.9902 179.696 15.1286 180.591 15.4053C181.486 15.682 182.316 16.1296 183.081 16.748C183.862 17.3503 184.505 18.1396 185.01 19.1162C185.531 20.0928 185.791 21.2891 185.791 22.7051V23.9014C185.791 25.0244 185.604 26.237 185.229 27.5391C184.855 28.8249 184.253 30.0456 183.423 31.2012C184.139 31.6406 184.806 32.1696 185.425 32.7881C186.06 33.4066 186.613 34.1227 187.085 34.9365C187.557 35.7503 187.931 36.6699 188.208 37.6953C188.485 38.7207 188.623 39.8519 188.623 41.0889V42.3096ZM182.275 41.0889C182.275 40.2588 182.145 39.5182 181.885 38.8672C181.624 38.1999 181.258 37.6302 180.786 37.1582C180.314 36.6862 179.744 36.3281 179.077 36.084C178.41 35.8236 177.661 35.6934 176.831 35.6934H162.524V29.2969H173.975C174.805 29.2969 175.553 29.1748 176.221 28.9307C176.888 28.6702 177.458 28.304 177.93 27.832C178.402 27.36 178.76 26.7985 179.004 26.1475C179.264 25.4801 179.395 24.7314 179.395 23.9014V22.7051C179.395 21.7936 178.955 21.3379 178.076 21.3379H159.985V43.6523H180.933C181.047 43.6523 181.185 43.6442 181.348 43.6279C181.51 43.6117 181.657 43.5628 181.787 43.4814C181.917 43.4001 182.031 43.2617 182.129 43.0664C182.227 42.8711 182.275 42.6025 182.275 42.2607V41.0889ZM222.949 35.6934H202.905V29.2969H222.949V35.6934ZM225.806 50H202.905C202.026 50 201.066 49.8454 200.024 49.5361C198.983 49.2269 198.014 48.7223 197.119 48.0225C196.24 47.3063 195.5 46.3867 194.897 45.2637C194.312 44.1243 194.019 42.7327 194.019 41.0889V18.1885C194.019 17.749 194.1 17.334 194.263 16.9434C194.425 16.5527 194.645 16.2109 194.922 15.918C195.215 15.625 195.557 15.3971 195.947 15.2344C196.338 15.0716 196.761 14.9902 197.217 14.9902H225.806V21.3379H200.366V41.0889C200.366 41.9189 200.586 42.5537 201.025 42.9932C201.465 43.4326 202.108 43.6523 202.954 43.6523H225.806V50ZM266.309 50H259.961V41.4062H237.646V50H231.299V32.4951C231.299 29.9398 231.738 27.5879 232.617 25.4395C233.496 23.291 234.717 21.4437 236.279 19.8975C237.842 18.3512 239.689 17.1468 241.821 16.2842C243.953 15.4215 246.281 14.9902 248.804 14.9902H263.11C263.55 14.9902 263.965 15.0716 264.355 15.2344C264.746 15.3971 265.088 15.625 265.381 15.918C265.674 16.2109 265.902 16.5527 266.064 16.9434C266.227 17.334 266.309 17.749 266.309 18.1885V50ZM237.646 35.0586H259.961V21.3379H248.804C248.608 21.3379 248.193 21.3704 247.559 21.4355C246.94 21.4844 246.216 21.6227 245.386 21.8506C244.572 22.0785 243.709 22.4284 242.798 22.9004C241.886 23.3724 241.048 24.0234 240.283 24.8535C239.518 25.6836 238.883 26.7253 238.379 27.9785C237.891 29.2155 237.646 30.721 237.646 32.4951V35.0586ZM305.347 21.3379H291.357V50H285.01V21.3379H270.996V14.9902H305.347V21.3379Z"
              fill="#FA9D3E"
              initial={{
                opacity: 0,
                x: -100,
              }}
              animate={{
                opacity: 1,
                x: 0,
              }}
              transition={{
                duration: 0.5,
              }}
            />
          </motion.svg>
        </NavLogo>
        <NavMenu>
          {auth.isAuth ? (
            <>
              <NavItem onClick={() => logout()}>Logout</NavItem>
              <NavItem>
                <img
                  onClick={() => history.push("/user")}
                  style={{
                    borderRadius: "50%",
                    height: "6rem",
                    width: "6rem",
                    userSelect: "none",
                  }}
                  src={`/public/img/users/${auth.user.photo}`}
                  alt="profile"
                />
                <span>{auth.user.name.split(" ")[0]}</span>
              </NavItem>
            </>
          ) : (
            <>
              <NavItem>
                <ButtonLink
                  to="/login"
                  background="true"
                  radius="50px"
                  css={`
                    font-size: 2rem;
                    ${mediaQ("sm")`
                    font-size:1.5rem;
                    `}
                    ${mediaQ("xs")`
                    padding:1rem 2rem;
                    `}
                    ${mediaQ("xxs")`
                    padding:1rem 1.5rem;
                   `}
                  `}
                >
                  Login
                </ButtonLink>
              </NavItem>
              <NavItem>
                <ButtonLink
                  to="/signup"
                  radius="50px"
                  white="true"
                  css={`
                    font-size: 2rem;
                    ${mediaQ("sm")`
                    font-size:1.5rem;
                    `}
                    ${mediaQ("xs")`
                    padding:1rem 2rem;
                    `}
                    ${mediaQ("xxs")`
                    padding:1rem 1.5rem;
                   `}
                  `}
                >
                  Signup
                </ButtonLink>
              </NavItem>
            </>
          )}
        </NavMenu>
      </NavContainer>
    </Nav>
  );
};

const mapStateToProps = (states) => ({
  auth: states.user,
});

export default connect(mapStateToProps, { logout })(Navbar);
